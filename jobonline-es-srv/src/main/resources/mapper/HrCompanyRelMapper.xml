<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jobtbao.oauth.srv.hruser.dao.HrCompanyRelDao">

  <sql id="hrComRelColumn">
    id, hr_user_id, company_id, status, job_status,bind_status, auth_status, create_time, update_time,deleted
  </sql>
  <select id="selectByHrUserId" resultType="java.util.HashMap">
    select
    <include refid="hrComRelColumn" />
    from hr_company_rel
    where hr_user_id = #{hrUserId,jdbcType=BIGINT}
    <if test="type != null and type != ''">
      and type = #{type,jdbcType=INTEGER}
    </if>
    <if test="status != null and status != ''">
      and status= #{status,jdbcType=INTEGER}
    </if>
    and deleted = 1
  </select>

  <update id="updateAuthStatusById" parameterType="Map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update hr_company_rel
    <set>
        auth_status = #{authStatus,jdbcType=VARCHAR},
        update_time = #{updateTime,jdbcType=INTEGER},
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>

</mapper>